
@model PagedList.IPagedList<CLEANSHOP.Models.Product>
@using PagedList.Mvc;

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}




<div id="slider" class="left-to-right show-on-scroll">
    <div class="aspect-ratio-169">
        <img src="~/Content/images/anh bia.jpg" alt="1">
        <img src="~/Content/images/combo2.1.jpg" alt="2">
        <img src="~/Content/images/banner3.jpg" alt="3">
        <img src="~/Content/images/combo3.jpg" alt="4">
        <img src="~/Content/images/combo1.2.jpg" alt="5">
    </div>

    <div class="dot-container" style="display:none;">
        <div class="dot active"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
    </div>
</div>
<div class="container">

    <div class="row">
        

        <h1 style="justify-content: center; display: flex;"> Sản phẩm vệ sinh chăm sóc giày</h1>
        @using (Html.BeginForm("Index", "DichVu", FormMethod.Get, new { @class = "form-inline" }))
        {

            <div class="form-group" style="justify-content: center; display: flex; margin:50px">

                <input type="Text" class="form-control col-md-10" value="@ViewBag.Keyword" name="searchString" placeholder="Nhập tên sản phẩm cần tìm">
                <input type="submit" class="btn btn-danger" value="Tìm sản phẩm...">
            </div>
        }
    <div class="">
        @Html.Action("LoaiSanPham", "DichVu")
    </div>


        <div class="row"  style=" display: flex; justify-content: center; flex-wrap: wrap;">
            @foreach (var item in Model)
            {
                <div class="col-sm-6 col-md-4">
                    <div class="thumbnail" >
                        <h4 class="text-center"><span class="label label-info"></span></h4>
                        <img src="@item.Image" class="img-responsive" style="height:200px">
                        <div class="caption" >
                            <div class="row">
                                <div class="col-md-6 col-xs-6">
                                    <h3>@item.ProductName</h3>
                                </div>
                                <div class="col-md-6 col-xs-6 price">
                                    <h3>
                                        <label >@item.Price VND @* Giá sau khi giảm: @item.DisPrice*@</label>@*style="text-decoration-line:line-through"*@
                                    </h3>
                                </div>
                            </div>
                            <p>@item.Text</p>
                            <h3>
                                <label>Số lượng :  @item.Amount </label>
                            </h3>
                            <div class="row">
                                
                                <div class="panel-footer clearfix">
                                    <div class="col-md-6">
                                        <a class="btn btn-primary btn-product" href="@Url.Action("Detail", "DichVu", new { @id = item.Id })">Detail</a>
                                    </div>
                                    <div class="pull-right">
                                        <div class="DatMua">
                                            @if (item.Amount > 0)
                                            {
                                                <a class="btn btn-success"
                                                   href="@Url.Action("ThemGioHang", "GioHang", new
                                                     {
                                                              @id = item.Id,
                                                                @strURL = Request.Url.ToString()
                                                        })">Đặt mua</a>
                                            }
                                            else
                                            {
                                                <a class="btn btn-block ">
                                                    Tạm Hết Hàng
                                                </a>
                                            }

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>

    </div>

</div>


<div>
    <div>
        Trang @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)/
        @Model.PageCount
    </div>
    <div class="MenuTrang">
        @Html.PagedListPager(Model, page => Url.Action("Index", new { page = page }))
    </div>
</div>
<style>
    .MenuTrang li {
        display: inline;
    }
</style>
<style type="text/css">
    #mau-nut a {
        clear: both;
        background-color: orange;
        color: snow;
    }

        #mau-nut a:hover {
            background-color: darkcyan;
            color: snow;
        }
</style>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
    $(document).ready(function () {
        var maxLength = 100;
        $(".show-read-more").each(function () {
            var myStr = $(this).text();
            if ($.trim(myStr).length > maxLength) {
                var newStr = myStr.substring(0, maxLength);
                var removedStr = myStr.substring(maxLength, $.trim(myStr).length);
                $(this).empty().html(newStr);
                $(this).append(' <a href="javascript:void(0);" class="read-more">đọc tiếp...</a>');
                $(this).append('<span class="more-text"> ' + removedStr + ' </span>');
            }
        });
        $(".read-more").click(function () {
            $(this).siblings(".more-text").contents().unwrap();
            $(this).remove();
        });
    });
</script>
<style>
    .show-read-more .more-text {
        display: none;
    }
</style>


<div class="center">
    @Html.Partial("~/Views/DichVu/Nhom.cshtml")
</div>
<style>
    .btn-product {
        width: 100%;
    }

    #mau-nut a {
        clear: both;
        background-color: orange;
        color: snow;
    }

    .thumbnail {
        background: #c5e4e4;
    }

    .thumbnail:hover {
        transform: scale(1.1);
    }

        .thumbnail:hover .clearfix {
            display: block;
        }

    #slider {
        padding-bottom: 30px;
        border-bottom: 2px solid #000;
        overflow: hidden;
    }

    .aspect-ratio-169 {
        display: block;
        position: relative;
        margin-top: 20px;
        padding-top: 46.25%;
        transition: 0.3s;
    }

        .aspect-ratio-169 img {
            display: block;
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover;
            top: 0;
            left: 0;
        }

    .dot-container {
        position: relative;
        height: 30px;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .dot {
        height: 15px;
        width: 15px;
        background-color: #ccc;
        border-radius: 50%;
        margin-right: 12px;
        cursor: pointer;
    }

        .dot.active {
            background-color: #333;
        }


    .panel-default {
        transition: 0.5s;
    }

        .panel-default:hover {
            box-shadow: 5px 10px #BFC9D9;
        }

    .clearfix {
        transition: 0.5s;
        display: none;
    }

    .panel:hover {
        transform: scale(1.1);
    }

        .panel:hover .clearfix {
            display: block;
        }

</style>


    <script>
        $(document).ready(function () {
            var maxLength = 100;
            $(".show-read-more").each(function () {
                var myStr = $(this).text();
                if ($.trim(myStr).length > maxLength) {
                    var newStr = myStr.substring(0, maxLength);
                    var removedStr = myStr.substring(maxLength, $.trim(myStr).length);
                    $(this).empty().html(newStr);

                    $(this).append(' <a href="javascript:void(0);" class="read-more">đọc tiếp...</a>');

                    $(this).append('<span class="more-text">' + removedStr +
                        '</span>');
                }
            });
            $(".read-more").click(function () {
                $(this).siblings(".more-text").contents().unwrap();
                $(this).remove();
            });
        });

        const imgPosition = document.querySelectorAll(".aspect-ratio-169 img")
        const imgContainer = document.querySelector('.aspect-ratio-169')
        const dotItem = document.querySelectorAll(".dot")
        let imgNumber = imgPosition.length
        let index = 0
        // console.log(imgPosition)
        imgPosition.forEach(function (image, index) {
            image.style.left = index * 100 + "%"
            dotItem[index].addEventListener("click", function () {
                slider(index)
            })
        })
        function imgSlide() {
            index++;
            if (index >= imgNumber) { index = 0 }
            slider(index)
        }
        function slider(index) {
            imgContainer.style.left = "-" + index * 100 + "%"
            const dotActive = document.querySelector('.active')
            dotActive.classList.remove("active")
            dotItem[index].classList.add("active")
        }
        setInterval(imgSlide, 3000)

    </script>




